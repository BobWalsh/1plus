<% content_for :section_title, "Billing" %>

<div class="mb-20">
  <div class="mb-10">
    <p class="text-xl text-gray-700 leading-normal">Jumpstart uses the <%= link_to "Pay gem", "https://github.com/excid3/pay", target: "_blank", class: "link" %> for handling payments and billing. Each subscription is attached to a Team, which allows us to offer multiple subscriptions like Github, should you wish to use that.</p>
  </div>

  <div class="alert alert-warning mb-6" role="alert">
    <div class="flex items-start justify-start">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" class="fill-current icon mr-4 mt-1 flex-no-shrink" role="img" aria-labelledby="hstzpl9mrdyr5adgzaugro54e5aap8m"><title id="hstzpl9mrdyr5adgzaugro54e5aap8m">Icons/bookmark</title><path d="M2 2c0-1.1.9-2 2-2h12a2 2 0 0 1 2 2v18l-8-4-8 4V2z"></path></svg>

      <div>
        <h4 class="font-black text-sm uppercase tracking">Note: When disabling providers</h4>
        <p class="leading-normal">Just a heads up! If you remove all of your payment providers, the Pricing page and the Billing management page under Account Settings will be disabled.</p>
      </div>
    </div>
  </div>

  <h2 class="pb-3 mb-6 border-b border-gray-400">Stripe</h2>
  <p class="mb-2">Processing payments with Stripe is as simple as adding your Stripe credentials, enabling the Stripe configuration, and adding plans with Stripe IDs on them.</p>

  <h4 class="pb-3 mb-6 border-b border-gray-400">Webhooks</h4>
  <p>The <code>/webhooks/stripe</code> endpoint is available in your application for handling webhooks from Stripe. You can add the webhook to Stripe to have it </p>

  <h2 class="pb-3 mb-6 border-b border-gray-400">Braintree</h2>
  <p class="mb-4">Processing payments with Braintree is as simple as adding your Braintree credentials, enabling the Braintree configuration, and adding plans with the Braintree IDs on them. We handle all the heavy lifting such as calculation proration discounts to allow users to swap between monthly and yearly plans which Braintree does not support out of the box.</p>

  <h4 class="pb-3 mb-6 border-b border-gray-400">PayPal</h4>
  <p class="mb-4">PayPal is supported out of the box, using Braintree for processing.</p>
  <p class="mb-4">To enable PayPal in Jumpstart, you'll first need to enable it in your Braintree account under the Processing Options section.</p>
  <%= image_tag "https://i.imgur.com/coAmQpf.png", class: "mb-4" %>

  <p class="mb-4">Jumpstart supports two PayPal configurations:</p>

  <ol class="list-decimal list-inside mb-4">
    <li>PayPal inside Braintree's Drop-In UI</li>
    <li>Standalone PayPal button</li>
  </ol>

  <p class="mb-4">The Braintree Drop-In UI is a widget like Stripe elements that handles all the various enabled payment options. If you wish to process both credit cards and PayPal through Braintree, this is the best option.</p>
  <p class="mb-4">The Standalone PayPal button is designed for users who want to use PayPal with Stripe or by itself. This embeds a PayPal checkout button in the form without using the Braintree Drop-In UI. It still uses the Braintree Javascript to do this, but without the credit card form.</p>

  <h4 class="pb-3 mb-6 border-b border-gray-400">Plan Credit Discount</h4>
  <p class="mb-4">Before using Braintree, you will need to define a <code>plan-credit</code> discount in your Braintree control panel. This discount will be used to properly prorate subscriptions that change from yearly to monthly billing, or from monthly to yearly billing.</p>
  <p class="mb-4">The discount amount configured in the Braintree control panel can be any value you wish, as Pay will override the defined amount with our own custom amount each time we apply the coupon. This coupon is needed since Braintree does not natively support prorating subscriptions across subscription frequencies.</p>
</div>
